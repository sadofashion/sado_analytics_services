{"semantic_models": [{"name": "facebook_performance", "defaults": {"agg_time_dimension": "date"}, "description": "Facebook performance metrics", "node_relation": {"alias": "facebook_performance", "schema_name": "dbt_prod_marketing", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_marketing`.`facebook_performance`"}, "primary_entity": null, "entities": [{"name": "campaign_date", "description": null, "type": "primary", "role": null, "expr": "concat(campaign_name,\".\",unix_date(date_start))", "metadata": null, "label": null}], "measures": [{"name": "spend", "agg": "sum", "description": "total spend on facebook ads", "create_metric": false, "expr": "spend", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "impressions", "agg": "sum", "description": "total FB ads impressions", "create_metric": false, "expr": "impressions", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "clicks", "agg": "sum", "description": "total FB ads clicks", "create_metric": false, "expr": "clicks", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "reach", "agg": "sum", "description": null, "create_metric": false, "expr": "reach", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "link_click", "agg": "sum", "description": "total FB ads link clicks", "create_metric": false, "expr": "link_click", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "post_engagement", "agg": "sum", "description": "total FB ads post engagements", "create_metric": false, "expr": "post_engagement", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "offline_conversion", "agg": "sum", "description": "total offline transactions matched by FB", "create_metric": false, "expr": "offline_conversion_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "offline_conversion_value", "agg": "sum", "description": "total offline transactions value matched by FB", "create_metric": false, "expr": "offline_conversion_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "online_conversion", "agg": "sum", "description": "total online transactions attributed for ads, captured via pixel", "create_metric": false, "expr": "pixel_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "online_conversion_value", "agg": "sum", "description": "total online transactions value attributed for ads, captured via pixel", "create_metric": false, "expr": "pixel_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "meta_conversion", "agg": "sum", "description": "total transactions attributed for ads, captured directly on facebook", "create_metric": false, "expr": "meta_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "meta_conversion_value", "agg": "sum", "description": "total transactions value attributed for ads, captured directly on facebook", "create_metric": false, "expr": "meta_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "messages", "agg": "sum", "description": "number of messages generated from ads", "create_metric": false, "expr": "messaging_conversation_started_7d", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(date_start)", "metadata": null, "label": null}, {"name": "account", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "account_name", "metadata": null, "label": null}, {"name": "campaign", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "campaign_name", "metadata": null, "label": null}, {"name": "event", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "big_campaign", "metadata": null, "label": null}, {"name": "pic", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "pic", "metadata": null, "label": null}, {"name": "content_group", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "content_group", "metadata": null, "label": null}, {"name": "page", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "page", "metadata": null, "label": null}, {"name": "promoted_productline", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "promoted_productline", "metadata": null, "label": null}, {"name": "media", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "media_type", "metadata": null, "label": null}], "label": null, "metadata": null}, {"name": "revenue", "defaults": {"agg_time_dimension": "transaction_date"}, "description": "revenue fact table with single revenue stream per row, excluding terminated transaction", "node_relation": {"alias": "revenue", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`revenue`"}, "primary_entity": null, "entities": [{"name": "transaction", "description": null, "type": "primary", "role": null, "expr": "transaction_id", "metadata": null, "label": null}, {"name": "branch", "description": null, "type": "foreign", "role": null, "expr": "branch_id", "metadata": null, "label": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null, "label": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "employee_id", "metadata": null, "label": null}], "measures": [{"name": "transaction_count", "agg": "count_distinct", "description": "total number of transaction", "create_metric": false, "expr": "transaction_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "total_transaction_value", "agg": "sum", "description": "total value sold", "create_metric": false, "expr": "total", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "received_transaction_value", "agg": "sum", "description": "total revenue received via payments", "create_metric": false, "expr": "total_payment", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "return_fee", "agg": "sum", "description": null, "create_metric": false, "expr": "return_fee", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "order_discount", "agg": "sum", "description": "total order discount value", "create_metric": false, "expr": "discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "transaction_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(transaction_date)", "metadata": null, "label": null}, {"name": "transaction_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "transaction_type", "metadata": null, "label": null}], "label": null, "metadata": null}, {"name": "revenue_items", "defaults": {"agg_time_dimension": "transaction_date"}, "description": "revenue fact table with single revenue stream per row, excluding terminated transaction", "node_relation": {"alias": "revenue_items", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`revenue_items`"}, "primary_entity": null, "entities": [{"name": "transaction_item", "description": null, "type": "primary", "role": null, "expr": "concat(transaction_id, '.',product_id)", "metadata": null, "label": null}, {"name": "branch", "description": null, "type": "foreign", "role": null, "expr": "branch_id", "metadata": null, "label": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null, "label": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "employee_id", "metadata": null, "label": null}, {"name": "product", "description": null, "type": "foreign", "role": null, "expr": "product_id", "metadata": null, "label": null}], "measures": [{"name": "num_items", "agg": "sum", "description": "total number of item_sold", "create_metric": false, "expr": "quantity", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "discounted_value", "agg": "sum", "description": "value discounted for item", "create_metric": false, "expr": "discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "item_value", "agg": "sum", "description": "value of item on transaction", "create_metric": false, "expr": "subtotal", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "transaction_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(transaction_date)", "metadata": null, "label": null}, {"name": "transaction_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "transaction_type", "metadata": null, "label": null}], "label": null, "metadata": null}, {"name": "rfm_movement", "defaults": {"agg_time_dimension": "start_of_month"}, "description": "rfm segmentation semantic model", "node_relation": {"alias": "rfm_movement", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`rfm_movement`"}, "primary_entity": null, "entities": [{"name": "rfm_customer", "description": null, "type": "primary", "role": null, "expr": "customer_id", "metadata": null, "label": null}], "measures": [{"name": "num_customers", "agg": "count_distinct", "description": null, "create_metric": false, "expr": "customer_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "avg_monetary_value", "agg": "average", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "median_monetary_value", "agg": "median", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "total_monetary_value", "agg": "sum", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "avg_recency", "agg": "average", "description": null, "create_metric": false, "expr": "recency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "median_recency", "agg": "median", "description": null, "create_metric": false, "expr": "recency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "avg_freq", "agg": "average", "description": null, "create_metric": false, "expr": "frequency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}, {"name": "median_freq", "agg": "median", "description": null, "create_metric": false, "expr": "frequency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null}], "dimensions": [{"name": "segment", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "segment", "metadata": null, "label": null}, {"name": "start_of_month", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "start_of_month", "metadata": null, "label": null}], "label": null, "metadata": null}], "metrics": [{"name": "fb_spend", "description": "", "type": "simple", "type_params": {"measure": {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Spend"}, {"name": "fb_impresions", "description": "", "type": "simple", "type_params": {"measure": {"name": "impressions", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "impressions", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Impressions"}, {"name": "fb_clicks", "description": "", "type": "simple", "type_params": {"measure": {"name": "clicks", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "clicks", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Clicks"}, {"name": "fb_reach", "description": "", "type": "simple", "type_params": {"measure": {"name": "reach", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "reach", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Reach"}, {"name": "fb_link_clicks", "description": "", "type": "simple", "type_params": {"measure": {"name": "link_click", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "link_click", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Link Clicks"}, {"name": "fb_post_engagement", "description": "", "type": "simple", "type_params": {"measure": {"name": "post_engagement", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "post_engagement", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Post Engagment"}, {"name": "fb_offline_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "offline_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Offline Conversions"}, {"name": "fb_offline_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Offline Conversions Value"}, {"name": "fb_online_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "online_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "online_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Online Conversion"}, {"name": "fb_online_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Online Conversion Value"}, {"name": "fb_meta_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "meta_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "meta_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Onsite Conversion"}, {"name": "fb_meta_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Onsite Conversion Value"}, {"name": "fb_messages", "description": "", "type": "simple", "type_params": {"measure": {"name": "messages", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "messages", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Ads Messages"}, {"name": "roas", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(fb_offline_conversion_value + fb_online_conversion_value + fb_meta_conversion_value)/fb_spend", "window": null, "grain_to_date": null, "metrics": [{"name": "fb_offline_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_online_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_meta_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_spend", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB ROAS"}, {"name": "online_roas", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(fb_online_conversion_value + fb_meta_conversion_value)/fb_spend", "window": null, "grain_to_date": null, "metrics": [{"name": "fb_online_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_meta_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_spend", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB Online ROAS"}, {"name": "spend_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB spend 7d"}, {"name": "offline_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Offline CV 7d"}, {"name": "online_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Online CV 7d"}, {"name": "meta_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Meta CV 7d"}, {"name": "roas_7d", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(offline_cv_7d + online_cv_7d+meta_cv_7d)/spend_7d", "window": null, "grain_to_date": null, "metrics": [{"name": "offline_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "online_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "spend_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "FB ROAS 7d"}, {"name": "online_roas_7d", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(online_cv_7d+meta_cv_7d)/spend_7d", "window": null, "grain_to_date": null, "metrics": [{"name": "offline_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "online_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "spend_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Online FB ROAS 7d"}, {"name": "gross_revenue", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Gross Revenue"}, {"name": "invoice_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Value Sold"}, {"name": "invoice_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "No of Invoice"}, {"name": "return_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}]}, "metadata": null, "label": "No of Return"}, {"name": "invoice_paid_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Paid Value"}, {"name": "returned_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}]}, "metadata": null, "label": "Returned Value"}, {"name": "order_discounted_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "order_discount", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "order_discount", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Order Discounted Value"}, {"name": "aov", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "invoice_value/invoice_count", "window": null, "grain_to_date": null, "metrics": [{"name": "invoice_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "AOV"}, {"name": "pending_invoice", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "invoice_value - invoice_paid_value", "window": null, "grain_to_date": null, "metrics": [{"name": "invoice_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_paid_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Pending Income Value"}, {"name": "pct_returned", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "return/invoice", "window": null, "grain_to_date": null, "metrics": [{"name": "return_count", "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}]}, "alias": "return", "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}]}, "alias": "invoice", "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Returned Percentage"}, {"name": "qty_sold", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Quantity Sold"}, {"name": "qty_returned", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'return'\n"}]}, "metadata": null, "label": "Quantity Returned"}, {"name": "item_discounted_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Item Discounted Value"}, {"name": "item_sold_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}]}, "metadata": null, "label": "Item Sold Value"}, {"name": "avg_discount_ratio", "description": "", "type": "ratio", "type_params": {"measure": null, "numerator": {"name": "item_discounted_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "denominator": {"name": "item_sold_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Average Discount Ratio"}, {"name": "items_per_transaction", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "qty_sold/invoice_count", "window": null, "grain_to_date": null, "metrics": [{"name": "qty_sold", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "conversion_type_params": null, "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Items per Transaction"}, {"name": "num_customers_rfm", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "num_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "No. Customers Segmented"}, {"name": "avg_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "avg_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Avg Monetary Value"}, {"name": "med_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "median_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Median Monetary Value"}, {"name": "total_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "total_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "total_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Total Monetary Value"}, {"name": "avg_recency", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "avg_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Avg Recency"}, {"name": "median_recency", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "median_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Median Recency"}, {"name": "avg_freq", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "avg_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Avg Purchasing Frequency"}, {"name": "median_freq", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "input_measures": [{"name": "median_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "Median Purchasing Frequency"}], "project_configuration": {"time_spine_table_configurations": [{"location": "`agile-scheme-394814`.`dbt_prod`.`metricflow_time_spine`", "column_name": "date_day", "grain": "day"}], "metadata": null, "dsi_package_version": {"major_version": "0", "minor_version": "5", "patch_version": "1"}}, "saved_queries": []}