{"semantic_models": [{"name": "facebook_performance", "defaults": {"agg_time_dimension": "date"}, "description": "Facebook performance metrics", "node_relation": {"alias": "facebook_performance", "schema_name": "dbt_prod_marketing", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_marketing`.`facebook_performance`"}, "primary_entity": null, "entities": [{"name": "campaign_date", "description": null, "type": "primary", "role": null, "expr": "concat(campaign_name,\".\",unix_date(date_start))", "metadata": null}], "measures": [{"name": "spend", "agg": "sum", "description": "total spend on facebook ads", "create_metric": false, "expr": "spend", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "impressions", "agg": "sum", "description": "total FB ads impressions", "create_metric": false, "expr": "impressions", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "clicks", "agg": "sum", "description": "total FB ads clicks", "create_metric": false, "expr": "clicks", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "reach", "agg": "sum", "description": null, "create_metric": false, "expr": "reach", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "link_click", "agg": "sum", "description": "total FB ads link clicks", "create_metric": false, "expr": "link_click", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "post_engagement", "agg": "sum", "description": "total FB ads post engagements", "create_metric": false, "expr": "post_engagement", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "offline_conversion", "agg": "sum", "description": "total offline transactions matched by FB", "create_metric": false, "expr": "offline_conversion_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "offline_conversion_value", "agg": "sum", "description": "total offline transactions value matched by FB", "create_metric": false, "expr": "offline_conversion_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "online_conversion", "agg": "sum", "description": "total online transactions attributed for ads, captured via pixel", "create_metric": false, "expr": "pixel_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "online_conversion_value", "agg": "sum", "description": "total online transactions value attributed for ads, captured via pixel", "create_metric": false, "expr": "pixel_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "meta_conversion", "agg": "sum", "description": "total transactions attributed for ads, captured directly on facebook", "create_metric": false, "expr": "meta_purchase", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "meta_conversion_value", "agg": "sum", "description": "total transactions value attributed for ads, captured directly on facebook", "create_metric": false, "expr": "meta_purchase_value", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "messages", "agg": "sum", "description": "number of messages generated from ads", "create_metric": false, "expr": "messaging_conversation_started_7d", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(date_start)", "metadata": null}, {"name": "account", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "account_name", "metadata": null}, {"name": "campaign", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "campaign_name", "metadata": null}, {"name": "event", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "big_campaign", "metadata": null}, {"name": "pic", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "pic", "metadata": null}, {"name": "content_group", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "content_group", "metadata": null}, {"name": "page", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "page", "metadata": null}, {"name": "promoted_productline", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "promoted_productline", "metadata": null}, {"name": "media", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "media_type", "metadata": null}], "metadata": null}, {"name": "online_inventory_balance", "defaults": {"agg_time_dimension": "date"}, "description": null, "node_relation": {"alias": "online_inventory_balance", "schema_name": "dbt_prod_online_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_online_sales`.`online_inventory_balance`"}, "primary_entity": null, "entities": [{"name": "product_date", "description": null, "type": "primary", "role": null, "expr": "concat(product_id,'.',unix_date(date))", "metadata": null}, {"name": "product", "description": null, "type": "foreign", "role": null, "expr": "product_id", "metadata": null}], "measures": [{"name": "onl_dly_avg_remain", "agg": "average", "description": null, "create_metric": false, "expr": "daily_average_remain", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_dly_avg_qty_sold", "agg": "average", "description": null, "create_metric": false, "expr": "daily_qty_sold", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_dly_total_qty_sold", "agg": "sum", "description": null, "create_metric": false, "expr": "daily_qty_sold", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "depot", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "depot_name,", "metadata": null}, {"name": "date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date", "metadata": null}], "metadata": null}, {"name": "online_orders_items", "defaults": {"agg_time_dimension": "created_date"}, "description": "revenue fact table for online sales recorded on nhanhvn", "node_relation": {"alias": "orders_items", "schema_name": "dbt_prod_online_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_online_sales`.`orders_items`"}, "primary_entity": null, "entities": [{"name": "order_item", "description": null, "type": "primary", "role": null, "expr": "concat(order_id,'.',product_id)", "metadata": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "created_by_id", "metadata": null}, {"name": "product", "description": null, "type": "foreign", "role": null, "expr": "product_id", "metadata": null}], "measures": [{"name": "onl_items_sold", "agg": "sum", "description": null, "create_metric": false, "expr": "quantity", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_items_sold_value", "agg": "sum", "description": null, "create_metric": false, "expr": "price", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_items_sold_gross", "agg": "sum", "description": null, "create_metric": false, "expr": "item_gross_amount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_items_discounted_value", "agg": "sum", "description": null, "create_metric": false, "expr": "item_discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_order_count", "agg": "count_distinct", "description": null, "create_metric": false, "expr": "order_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_order_discount_value", "agg": "sum", "description": null, "create_metric": false, "expr": "order_discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "onl_fulfillment_time", "agg": "sum", "description": null, "create_metric": false, "expr": "fulfillment_time", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "created_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(created_date)", "metadata": null}, {"name": "sale_channel", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "sale_channel", "metadata": null}, {"name": "depot", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "depot_name", "metadata": null}, {"name": "status", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "order_status", "metadata": null}, {"name": "type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "order_type", "metadata": null}, {"name": "service", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "service_name", "metadata": null}, {"name": "traffic_source", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "traffic_source_name", "metadata": null}], "metadata": null}, {"name": "online_balance", "defaults": {"agg_time_dimension": "bill_date"}, "description": "Online revenue calculated by invoices, include inventory In-Out", "node_relation": {"alias": "online_balance", "schema_name": "dbt_prod_online_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_online_sales`.`online_balance`"}, "primary_entity": null, "entities": [{"name": "bills", "description": null, "type": "primary", "role": null, "expr": "concat(bill_id,'.',product_id)", "metadata": null}, {"name": "order", "description": null, "type": "foreign", "role": null, "expr": "order_id", "metadata": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "created_by_id", "metadata": null}, {"name": "product", "description": null, "type": "foreign", "role": null, "expr": "product_id", "metadata": null}], "measures": [{"name": "qty_in_out", "agg": "sum", "description": null, "create_metric": false, "expr": "quantity", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "value_in_out", "agg": "sum", "description": null, "create_metric": false, "expr": "item_net_amount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "created_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(created_date)", "metadata": null}, {"name": "bill_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(created_date)", "metadata": null}, {"name": "depot", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "depot_name", "metadata": null}, {"name": "type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "bill_type", "metadata": null}, {"name": "mode", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "bill_mode", "metadata": null}], "metadata": null}, {"name": "revenue_items", "defaults": {"agg_time_dimension": "transaction_date"}, "description": "revenue fact table with single revenue stream per row, excluding terminated transaction", "node_relation": {"alias": "revenue_items", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`revenue_items`"}, "primary_entity": null, "entities": [{"name": "transaction_item", "description": null, "type": "primary", "role": null, "expr": "concat(transaction_id, '.',product_id)", "metadata": null}, {"name": "branch", "description": null, "type": "foreign", "role": null, "expr": "branch_id", "metadata": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "employee_id", "metadata": null}, {"name": "product", "description": null, "type": "foreign", "role": null, "expr": "product_id", "metadata": null}], "measures": [{"name": "num_items", "agg": "sum", "description": "total number of item_sold", "create_metric": false, "expr": "quantity", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "discounted_value", "agg": "sum", "description": "value discounted for item", "create_metric": false, "expr": "discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "item_value", "agg": "sum", "description": "value of item on transaction", "create_metric": false, "expr": "subtotal", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "transaction_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(transaction_date)", "metadata": null}, {"name": "transaction_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "transaction_type", "metadata": null}], "metadata": null}, {"name": "revenue_payments", "defaults": {"agg_time_dimension": "transaction_date"}, "description": "payments for revenue with each payment_id associate with a transaction", "node_relation": {"alias": "revenue_payments", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`revenue_payments`"}, "primary_entity": null, "entities": [{"name": "transaction_payment", "description": null, "type": "primary", "role": null, "expr": "concat(transaction_id, '.',payment_id)", "metadata": null}, {"name": "branch", "description": null, "type": "foreign", "role": null, "expr": "branch_id", "metadata": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "employee_id", "metadata": null}], "measures": [{"name": "num_payments", "agg": "count_distinct", "description": "no payments", "create_metric": false, "expr": "concat(transaction_id,'.',payment_id)", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "payment_value", "agg": "sum", "description": "total payments", "create_metric": false, "expr": "payment_amount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "transaction_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(transaction_date)", "metadata": null}, {"name": "payment_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(payment_date)", "metadata": null}, {"name": "transaction_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "transaction_type", "metadata": null}, {"name": "payment_method", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "payment_method", "metadata": null}, {"name": "payment_status", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "payment_status", "metadata": null}], "metadata": null}, {"name": "rfm_movement", "defaults": {"agg_time_dimension": "start_of_month"}, "description": "rfm segmentation semantic model", "node_relation": {"alias": "rfm_movement", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`rfm_movement`"}, "primary_entity": null, "entities": [{"name": "rfm_customer", "description": null, "type": "primary", "role": null, "expr": "customer_id", "metadata": null}], "measures": [{"name": "num_customers", "agg": "count_distinct", "description": null, "create_metric": false, "expr": "customer_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "avg_monetary_value", "agg": "average", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "median_monetary_value", "agg": "median", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "total_monetary_value", "agg": "sum", "description": null, "create_metric": false, "expr": "monetary", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "avg_recency", "agg": "average", "description": null, "create_metric": false, "expr": "recency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "median_recency", "agg": "median", "description": null, "create_metric": false, "expr": "recency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "avg_freq", "agg": "average", "description": null, "create_metric": false, "expr": "frequency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "median_freq", "agg": "median", "description": null, "create_metric": false, "expr": "frequency", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "segment", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "segment", "metadata": null}, {"name": "start_of_month", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "start_of_month", "metadata": null}], "metadata": null}, {"name": "revenue", "defaults": {"agg_time_dimension": "transaction_date"}, "description": "revenue fact table with single revenue stream per row, excluding terminated transaction", "node_relation": {"alias": "revenue", "schema_name": "dbt_prod_sales", "database": "agile-scheme-394814", "relation_name": "`agile-scheme-394814`.`dbt_prod_sales`.`revenue`"}, "primary_entity": null, "entities": [{"name": "transaction", "description": null, "type": "primary", "role": null, "expr": "transaction_id", "metadata": null}, {"name": "branch", "description": null, "type": "foreign", "role": null, "expr": "branch_id", "metadata": null}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": null}, {"name": "employee", "description": null, "type": "foreign", "role": null, "expr": "employee_id", "metadata": null}], "measures": [{"name": "transaction_count", "agg": "count_distinct", "description": "total number of transaction", "create_metric": false, "expr": "transaction_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "total_transaction_value", "agg": "sum", "description": "total value sold", "create_metric": false, "expr": "total", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "received_transaction_value", "agg": "sum", "description": "total revenue received via payments", "create_metric": false, "expr": "total_payment", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "return_fee", "agg": "sum", "description": null, "create_metric": false, "expr": "return_fee", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}, {"name": "order_discount", "agg": "sum", "description": "total order discount value", "create_metric": false, "expr": "discount", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null}], "dimensions": [{"name": "transaction_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(transaction_date)", "metadata": null}, {"name": "transaction_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "transaction_type", "metadata": null}], "metadata": null}], "metrics": [{"name": "fb_spend", "description": "", "type": "simple", "type_params": {"measure": {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_impresions", "description": "", "type": "simple", "type_params": {"measure": {"name": "impressions", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "impressions", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_clicks", "description": "", "type": "simple", "type_params": {"measure": {"name": "clicks", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "clicks", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_reach", "description": "", "type": "simple", "type_params": {"measure": {"name": "reach", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "reach", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_link_clicks", "description": "", "type": "simple", "type_params": {"measure": {"name": "link_click", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "link_click", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_post_engagement", "description": "", "type": "simple", "type_params": {"measure": {"name": "post_engagement", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "post_engagement", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_offline_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "offline_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "offline_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_offline_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_online_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "online_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "online_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_online_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_meta_conversion", "description": "", "type": "simple", "type_params": {"measure": {"name": "meta_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "meta_conversion", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_meta_conversion_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "fb_messages", "description": "", "type": "simple", "type_params": {"measure": {"name": "messages", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "messages", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "roas", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(fb_offline_conversion_value + fb_online_conversion_value + fb_meta_conversion_value)/fb_spend", "window": null, "grain_to_date": null, "metrics": [{"name": "fb_offline_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_online_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_meta_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_spend", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "online_roas", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(fb_online_conversion_value + fb_meta_conversion_value)/fb_spend", "window": null, "grain_to_date": null, "metrics": [{"name": "fb_online_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_meta_conversion_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "fb_spend", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "spend_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "offline_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "online_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "meta_cv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "meta_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "roas_7d", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(offline_cv_7d + online_cv_7d+meta_cv_7d)/spend_7d", "window": null, "grain_to_date": null, "metrics": [{"name": "offline_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "online_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "spend_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "online_roas_7d", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(online_cv_7d+meta_cv_7d)/spend_7d", "window": null, "grain_to_date": null, "metrics": [{"name": "offline_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "online_cv_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "spend_7d", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "offline_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "online_conversion_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "spend", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_dly_avg_inv_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "onl_dly_avg_remain", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_dly_avg_remain", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_dly_avg_qty_sold_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "onl_dly_avg_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_dly_avg_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_dly_total_qty_sold_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "onl_dly_total_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_dly_total_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_inv_dio_7d", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(remain/total_sales)*7", "window": null, "grain_to_date": null, "metrics": [{"name": "onl_dly_avg_inv_7d", "filter": null, "alias": "remain", "offset_window": null, "offset_to_grain": null}, {"name": "onl_dly_total_qty_sold_7d", "filter": null, "alias": "total_sales", "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "onl_dly_avg_remain", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_dly_total_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_inv_turnover", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(qty_sold/remain)", "window": null, "grain_to_date": null, "metrics": [{"name": "onl_dly_total_qty_sold_7d", "filter": null, "alias": "qty_sold", "offset_window": null, "offset_to_grain": null}, {"name": "onl_dly_avg_inv_7d", "filter": null, "alias": "remain", "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "onl_dly_total_qty_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_dly_avg_remain", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_qty_sold", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_qty_sold_7d", "description": "", "type": "cumulative", "type_params": {"measure": {"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": {"count": 7, "granularity": "day"}, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_qty_returned", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Kh\u00e1ch tr\u1ea3 l\u1ea1i h\u00e0ng'\n"}, "metadata": null}, {"name": "onl_purchase_item_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_return_item_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Kh\u00e1ch tr\u1ea3 l\u1ea1i h\u00e0ng'\n"}, "metadata": null}, {"name": "onl_value_sold", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold_gross", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold_gross", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_value_returned", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_sold_gross", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_sold_gross", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Kh\u00e1ch tr\u1ea3 l\u1ea1i h\u00e0ng'\n"}, "metadata": null}, {"name": "onl_item_dcnt_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_items_discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_item_dcnt_pct", "description": "", "type": "ratio", "type_params": {"measure": null, "numerator": {"name": "onl_item_dcnt_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "denominator": {"name": "onl_purchase_item_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_items_discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_items_sold_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_total_dcnt_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_order_discount_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_order_discount_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_order_dct_value", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "onl_total_dcnt_value - onl_item_dcnt_value", "window": null, "grain_to_date": null, "metrics": [{"name": "onl_total_dcnt_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "onl_item_dcnt_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "onl_order_discount_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_items_discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_purchase_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_return_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Kh\u00e1ch tr\u1ea3 l\u1ea1i h\u00e0ng'\n"}, "metadata": null}, {"name": "onl_total_fulfillment_time", "description": "", "type": "simple", "type_params": {"measure": {"name": "onl_fulfillment_time", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_fulfillment_time", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('order_item__type')}} = 'Giao h\u00e0ng t\u1eadn nh\u00e0'\n"}, "metadata": null}, {"name": "onl_avg_fulfillment_time", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "onl_total_fulfillment_time/onl_purchase_count", "window": null, "grain_to_date": null, "metrics": [{"name": "onl_total_fulfillment_time", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "onl_purchase_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "onl_fulfillment_time", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_return_rate", "description": "", "type": "ratio", "type_params": {"measure": null, "numerator": {"name": "onl_return_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "denominator": {"name": "onl_purchase_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "onl_order_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_balance_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_value_in", "description": "", "type": "simple", "type_params": {"measure": {"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('bills__type')}} = 'Nh\u1eadp kho'\n"}, "metadata": null}, {"name": "onl_value_out", "description": "", "type": "simple", "type_params": {"measure": {"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "value_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('bills__type')}} = 'Xu\u1ea5t kho'\n"}, "metadata": null}, {"name": "onl_balance_qty", "description": "", "type": "simple", "type_params": {"measure": {"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "onl_qty_in", "description": "", "type": "simple", "type_params": {"measure": {"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('bills__type')}} = 'Nh\u1eadp kho'\n"}, "metadata": null}, {"name": "onl_qty_out", "description": "", "type": "simple", "type_params": {"measure": {"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "qty_in_out", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('bills__type')}} = 'Xu\u1ea5t kho'"}, "metadata": null}, {"name": "qty_sold", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "qty_returned", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'return'\n"}, "metadata": null}, {"name": "item_discounted_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "item_sold_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_item__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "avg_discount_ratio", "description": "", "type": "ratio", "type_params": {"measure": null, "numerator": {"name": "item_discounted_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "denominator": {"name": "item_sold_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "discounted_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "item_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "items_per_transaction", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "qty_sold/invoice_count", "window": null, "grain_to_date": null, "metrics": [{"name": "qty_sold", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "num_items", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "income_payment", "description": "", "type": "simple", "type_params": {"measure": {"name": "payment_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "payment_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_payment__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "return_payment", "description": "", "type": "simple", "type_params": {"measure": {"name": "payment_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "payment_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_payment__transaction_type')}} = 'return'\n"}, "metadata": null}, {"name": "num_income_payment", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_payments", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "num_payments", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_payment__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "num_return_payment", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_payments", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "num_payments", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction_payment__transaction_type')}} = 'return'"}, "metadata": null}, {"name": "num_customers_rfm", "description": "", "type": "simple", "type_params": {"measure": {"name": "num_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "num_customers", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "avg_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "avg_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "med_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "median_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "total_monetary_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "total_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "total_monetary_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "avg_recency", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "avg_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "median_recency", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "median_recency", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "avg_freq", "description": "", "type": "simple", "type_params": {"measure": {"name": "avg_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "avg_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "median_freq", "description": "", "type": "simple", "type_params": {"measure": {"name": "median_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "median_freq", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "gross_revenue", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "invoice_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "invoice_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "return_count", "description": "", "type": "simple", "type_params": {"measure": {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}, "metadata": null}, {"name": "invoice_paid_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "returned_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}, "metadata": null}, {"name": "order_discounted_value", "description": "", "type": "simple", "type_params": {"measure": {"name": "order_discount", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "input_measures": [{"name": "order_discount", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}, "metadata": null}, {"name": "aov", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "invoice_value/invoice_count", "window": null, "grain_to_date": null, "metrics": [{"name": "invoice_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "pending_invoice", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "invoice_value - invoice_paid_value", "window": null, "grain_to_date": null, "metrics": [{"name": "invoice_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "invoice_paid_value", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "total_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "received_transaction_value", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}, {"name": "pct_returned", "description": "", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "return/invoice", "window": null, "grain_to_date": null, "metrics": [{"name": "return_count", "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'return'\n"}, "alias": "return", "offset_window": null, "offset_to_grain": null}, {"name": "invoice_count", "filter": {"where_sql_template": "{{Dimension('transaction__transaction_type')}} = 'invoice'\n"}, "alias": "invoice", "offset_window": null, "offset_to_grain": null}], "input_measures": [{"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, {"name": "transaction_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null}], "project_configuration": {"time_spine_table_configurations": [{"location": "`agile-scheme-394814`.`dbt_prod`.`metricflow_time_spine`", "column_name": "date_day", "grain": "day"}], "metadata": null, "dsi_package_version": {"major_version": "0", "minor_version": "2", "patch_version": "3"}}}