version: 1
sources:
  - name: nhanhvn
    schema: Nhanhvn
    description: "data pulled from nhanhvn via API & Webhook"
    database: agile-scheme-394814
    tables:
      - name: "p_bills"
        identifier: "p_bills_*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_carriers"
        identifier: "p_carriers_*"
      - name: "p_categories"
        identifier: "p_categories_*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_customers"
        identifier: "p_customers_*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_orders"
        identifier: "p_orders_*"
      - name: "p_products"
        identifier: "p_products_*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_stores"
        identifier: "p_stores_*"
      - name: "p_users"
        identifier: "p_users_*"
      - name: "p_webhook_inventoryChange"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_orderAdd"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_orderUpdate"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_orderDelete"
      - name: "p_inventory"
        identifier: "p_inventory_*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }