version: 1
sources:
  - name: kiotViet
    schema: KiotViet
    description: "data pulled from kiotviet via API & Webhook"
    tables:
      - name: "p_products_list"
        identifier: "p_products_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_branches_list"
        identifier: "p_branches_list__*"
      - name: "p_orders_list"
        identifier: "p_orders_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_pricebooks_branches"
        identifier: "p_pricebooks_branches__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_surcharges_list"
        identifier: "p_surcharges_list__*"
      - name: "p_pricebooks_users"
        identifier: "p_pricebooks_users__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_users_list"
        identifier: "p_users_list__*"
      - name: "p_categories_list"
        identifier: "p_categories_list__*"
      - name: "p_purchaseorders_list"
        identifier: "p_purchaseorders_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_purchaseorders_list2"
        identifier: "p_purchaseorders_list2__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_customersGroups_list"
        identifier: "p_customersGroups_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_pricebooks_customer_groups"
        identifier: "p_pricebooks_customer_groups__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_invoices_list"
        identifier: "p_invoices_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_invoices_list2"
        identifier: "p_invoices_list2__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_returns_list"
        identifier: "p_returns_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_returns_list2"
        identifier: "p_returns_list2__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_bankAccounts_list"
        identifier: "p_bankAccounts_list__*"
      - name: "p_saleschannels_list"
        identifier: "p_saleschannels_list__*"
      - name: "p_customers_list"
        identifier: "p_customers_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_locations_list"
        identifier: "p_locations_list__*"
      - name: "p_products_inventory"
        identifier: "p_products_inventory__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_pricebooks_list"
        identifier: "p_pricebooks_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_invoice_update"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_inventory_update"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_webhook_customer_update"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: "p_transfers_list"
        identifier: "p_transfers_list__*"
        loaded_at_field: _batched_at
        freshness:
          warn_after: { count: 12, period: day }
          error_after: { count: 16, period: day }
      - name: webhook_product_delete
        identifier: p_webhook_product_delete