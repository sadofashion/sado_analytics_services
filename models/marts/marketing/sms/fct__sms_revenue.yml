version: 2
models:
  - name: fct__sms_revenue
    description: ""
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - sent_id
            - transaction_date
    meta:
      joins:
        - join: calendar
          sql_on: ${calendar.date} = date(${TABLE}.sent_time)
    columns:
      - name: phone
        description: ""
        meta:
          dimension:
            type: string
            hidden: true
      - name: sent_id
        description: ""
        meta:
          dimension:
            type: string
            hidden: true
      - name: campaign
        description: ""
        meta:
          dimension:
            type: string
            hidden: true
      - name: reference_id
        description: ""
        meta:
          dimension:
            type: string
            hidden: true
      - name: sms_cost
        description: ""
        meta:
          dimension:
            type: number
            hidden: true
      - name: sent_status
        description: ""
        meta:
          dimension:
            type: string
            hidden: true
      - name: sent_result
        description: ""
        meta:
          dimension:
            type: boolean
            hidden: true
      - name: sent_time
        description: ""
        meta:
          dimension:
            type: timestamp
            hidden: true
      - name: sms_id
        description: ""
        meta:
          dimension:
            type: number
            hidden: true
      - name: sms_type
        description: ""
        meta:
          dimension:
            type: string
      - name: transaction_date
        description: ""
        meta:
          dimension:
            type: date
            hidden: true
      - name: total
        description: ""
        meta:
          dimension:
            type: number
            hidden: true
      - name: customer_id
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            m_customer_converted:
              type: count_distinct
              label: No. customer converted
              round: 0
